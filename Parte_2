CREATE SCHEMA DATAMART;

create table DATAMART.GENDER (
  ID_Gender int primary key GENERATED BY DEFAULT AS IDENTITY (start with 1) not null,
  Genero varchar(100) not null unique
);

create table DATAMART.DATE(
  Fecha date primary key not null unique,
  dia int not null,
  mes int not null,
  anio int not null
);

create table DATAMART.SITE(
  ID_Site int primary key GENERATED BY DEFAULT AS IDENTITY (start with 1) not null,
  provincia varchar(100) not null,
  canton varchar(100) not null unique
);

create table DATAMART.CRIME(
  ID_Crime int primary key GENERATED BY DEFAULT AS IDENTITY (start with 1) not null,
  
);

create table DATAMART.OIJ_INEC_FACT(
  ID int primary key GENERATED BY DEFAULT AS IDENTITY (start with 1) not null,
   FOREIGN KEY (id_gender) REFERENCES DATAMART.GENDER(ID_Gender),
   FOREIGN KEY (fecha) REFERENCES DATAMART.DATE(fecha),
   FOREIGN KEY (id_site) REFERENCES  DATAMART.SITE(ID_Site),
   FOREIGN KEY (id_crime) REFERENCES DATAMART.CRIME(ID_Crime),
  crime_count int not null,
  average_employment_rate float not null
);


--Procedimientos almacenados


